<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Todo App</title>
</head>
<body>
    <h2>Todo Application</h2>
    <button onclick="fetchTodos()">Get Todos</button>
    <ul id="todolist"></ul>
<script>
    function fetchTodos(){
        fetch("https://jsonplaceholder.typicode.com/todos")
        .then(function(res){
            return res.json();
        })
        .then(function(data){
            const first20=data.slice(0,20);
            localStorage.setItem("todos",JSON.stringify(first20));
            renderTodos();
        })
        .catch(function(err){
            console.log("Error Fetching data",err);
            alert("Failed to fetch todos.Check console.");
        });
    }
    function renderTodos(){
     const todos=JSON.parse(localStorage.getItem("todos"))||[];
     const list=document.getElementById("todolist");
        list.innerHTML="";
        if(todos.length===0)
    {
        list.innerHTML="<p>No Todos Available</p>";
        return;
    }
     todos.forEach(function(todo,index){
         const li=document.createElement("li");
        li.innerHTML=`
        <strong>${todo.title}</strong> - Completed: ${todo.completed}
       <button onclick="deleteTodo(${index})">Delete</button>
       `;
       list.appendChild(li);
    });
    }
    
    function deleteTodo(i){
    let todos = JSON.parse(localStorage.getItem("todos")) || []; 
    todos.splice(i,1); 
    localStorage.setItem("todos", JSON.stringify(todos)); 
    renderTodos(); 
}
renderTodos();
</script>
</body>
</html>